<% layout('Admin/layouts/boilerPlate') -%>


<!--Container Main start-->
 <div class="application bg-light">
    <h4>Add Test</h4>
    <%- include ('./partials/SuccessError'); -%>
    <form class="add-quiz-form row needs-validation mb-20" action="/add-test" method="POST" enctype="multipart/form-data" novalidate>
      <div class="col-md-12 position-relative">
        <label for="quizName" class="form-label">Quiz Name</label>
        <input name="quizName" placeholder="Please Enter Quiz Name" type="text" class="form-control" id="quizName" required>
        <div class="invalid-tooltip">
          Please provide a Name.
        </div>
      </div>
      <div class="row quiz-detail ">
        <div class="col-md-6 position-relative" >
          <label for="validationTooltip03" class="form-label">Country</label>
          <select class="form-select" id="countryID" name="country">
            <!-- <option hidden >Please Select Country</option>  -->
            <option selected value="united states">United States</option> 
          </select>
        </div>
           <div class="col-md-6 position-relative" >
            <label for="validationTooltip03" class="form-label">States</label>
            <select class="form-select" id="stateID" name="stateName">
              <!-- <option hidden >Please Select State</option>   -->
              <option selected value="new-jersey">New Jersey</option>
            </select>
            </div>
            <div class="col-md-6 " style="margin-top: 20px;"> 
            <label for="validationTooltip03" class="form-label">State Image</label>
            <div class="add-quiz-state-image">
              <input class="add-quiz-image-input formFile form-control" type="file" name="stateImg" onchange="preview()" required>
              <button onclick="clearImage()"  style="width: 40px;background-color: #a8171a;color: white;" class="btn" type="button" ><i class="fa-solid fa-xmark"></i></button>
            </div> 
          </div>
      
      <div class="col-md-6 position-relative" style="margin-top: 20px;">
      <label for="validationTooltip03" class="form-label">Category</label>
      <select class="form-select" name="category">
        <!-- <option hidden >Please Select Category</option> -->
        <option selected value="driving-quiz">Driving Quiz</option>
        <!-- <option value="flag-game">Flag Game Quiz</option>
        <option value="find-state-quiz">Find State Quiz</option> -->
      </select>
      </div>
      <div class="col-md-6 position-relative" style="margin-top: 20px;">
        <label for="validationTooltip03" class="form-label">Quiz Detail</label>
        <input maxlength="200" name="quizDetail" placeholder="Please Enter Quiz Detail" type="text" class="form-control" id="validationTooltip03" required>
        <div class="invalid-tooltip">
          Please provide a Detail.
        </div>
      </div>
      </div> 
    <hr>
     <div id="setNewForm">
        <div class="form-data">
          <div class="row">
          <div class=" col-md-6 add-quiz-image">
            <input class="add-quiz-image formFile form-control" type="file" name="questionImg0" onchange="preview()">
            <button onclick="clearImage()"  class="btn" style="background-color: #a8171a;color: white;" type="button" ><i class="fa-solid fa-xmark"></i></button>
          </div>
          <div class="col-md-6 position-relative">
            <input name="question" placeholder="Please Enter Question" type="text" class="form-control" id="question" required>
            <div class="invalid-tooltip">
              Please provide a Question.
            </div>
          </div>
          </div>
          <div class="row">
          <div class="col-md-3 position-relative">
            <input name="optionA" placeholder="Please Enter Option A" type="text" class="form-control" id="optionA" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionB" placeholder="Please Enter Option B" type="text" class="form-control" id="optionB" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionC" placeholder="Please Enter Option C" type="text" class="form-control" id="optionC" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionD" placeholder="Please Enter Option D" type="text" class="form-control" id="optionD" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div>
          </div> 
          <div class="row">
          <div class="col-md-6 position-relative">
            <input name="correct" placeholder="Please Enter Answer" type="text" class="form-control" id="correct" required>
            <div class="invalid-tooltip">
              Please provide a Answer.
            </div>
          </div>
          <div class="col-md-6 position-relative">
            <input name="hint" placeholder="Please Enter Hint" type="text" class="form-control" id="hint">
          </div>
          </div>
          <hr>
          </div>
          </div>
        <div class="col-12 mt-2">
            <button class="btn" style="background-color: #a8171a;color: white;" type="submit">Submit</button>
            <button style="float: right; border-radius: 50%;background-color: #a8171a;color: white;" class="show-form btn " type="button"><i class="fa-solid fa-plus"></i></button>
        </div>
      </form>


    <!-- Add Multiple Questions -->
      <div style="display: none;" >
        <div id="addNewForm" style="margin-top: 30px;" class="form-data">
          <div class="row">
          <div class="col-md-6  add-quiz-image">
            <input class="add-quiz-image formFile form-control" name="questionImg" type="file" onchange="preview()">
            <button onclick="clearImage()" class="btn" style="background-color: #a8171a;color: white;" type="button" ><i class="fa-solid fa-xmark"></i></button>
          </div>
          <div class="col-md-6 position-relative">
            <input name="question" placeholder="Please Enter Question" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Question.
            </div>
          </div>
        </div>
          <div class="row">
          <div class="col-md-3 position-relative">
            <input name="optionA" placeholder="Please Enter Option A" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionB" placeholder="Please Enter Option B" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionC" placeholder="Please Enter Option C" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div> 
          <div class="col-md-3 position-relative">
            <input name="optionD" placeholder="Please Enter Option D" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Option.
            </div>
          </div>
          </div> 
          <div class="row" >
          <div class="col-md-6 position-relative">
            <input name="correct" placeholder="Please Enter Answer" type="text" class="form-control" id="validationTooltip03" required>
            <div class="invalid-tooltip">
              Please provide a Answer.
            </div>
          </div>
          <div class="col-md-6 position-relative">
            <input name="hint" placeholder="Please Enter Hint" type="text" class="form-control" id="validationTooltip03">
          </div>
          </div>
          <hr>
          </div>
          </div>
      </div> 
</div>
<!--Container Main end-->   
<script> 
if(window.location.href == "http://localhost:9898/add-test")
{

}
else
{
  sessionStorage.clear();
}

  window.onbeforeunload = function() { 
    sessionStorage.setItem("quizName", document.getElementById("quizName").value);
    sessionStorage.setItem("quizDetail", document.getElementById("quizDetail").value);
    sessionStorage.setItem("question", document.getElementById("question").value);
    sessionStorage.setItem("optionA", document.getElementById("optionA").value);
    sessionStorage.setItem("optionB", document.getElementById("optionB").value); 
    sessionStorage.setItem("optionC", document.getElementById("optionC").value); 
    sessionStorage.setItem("optionD", document.getElementById("optionD").value); 
    sessionStorage.setItem("correct", document.getElementById("correct").value); 
    sessionStorage.setItem("hint", document.getElementById("hint").value); 
}

window.onload = function() {
  var quizName = sessionStorage.getItem("quizName");
  if (quizName !== null) document.getElementById("quizName").value = quizName;

  var quizDetail = sessionStorage.getItem("quizDetail");
  if (quizDetail !== null) document.getElementById("quizDetail").value = quizDetail;

  var question = sessionStorage.getItem("question");
  if (question !== null) document.getElementById("question").value = question;

  var optionA = sessionStorage.getItem("optionA");
  if (optionA !== null) document.getElementById("optionA").value = optionA;

  var optionB = sessionStorage.getItem("optionB");
  if (optionB !== null) document.getElementById("optionB").value = optionB;

  var optionC = sessionStorage.getItem("optionC");
  if (optionC !== null) document.getElementById("optionC").value = optionC;

  var optionD = sessionStorage.getItem("optionD");
  if (optionD !== null) document.getElementById("optionD").value = optionD;

  var correct = sessionStorage.getItem("correct");
  if (correct !== null) document.getElementById("correct").value = correct;

  var hint = sessionStorage.getItem("hint");
  if (hint !== null) document.getElementById("hint").value = hint; 
}


</script>
<script src="/admin/js/addQuiz.js" ></script>
<script src="/admin/js/multiQuestionGuessFlag.js"></script>

