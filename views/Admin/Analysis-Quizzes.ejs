<% layout('Admin/layouts/boilerPlate') -%>


<section style="padding: 20px;">

    <h3>Analysis Quizzes</h3>
    

<table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Quiz</th>
        <th scope="col">views</th>
        <th scope="col">Completed</th>
        <th scope="col">Incompleted</th>
      </tr>
    </thead>
    <tbody>
      <% var count = 1%>
      <%data.forEach(item => {%>    
        <% var counterForComplete = 0, counterForInComplete = 0;%>
       <%for(var i = 0; i < item.results.length; i++){%>
          <%if(item.results[i].status == "Incomplete") {counterForInComplete++} else if(item.results[i].status == "complete"){counterForComplete++}%>
       <%}%>
      <tr>
        <th scope="row"><%=count%></th>
        <td><%=item.quizName%></td>
        <td><%=item.logs.views%></td>
        <td><%=counterForComplete%></td>
        <td><%=counterForInComplete%></td>
      </tr>
      <%count++%>
      <%})%>
    </tbody>
  </table>

</section>